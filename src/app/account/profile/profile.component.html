<div class="text-center mt-4">
    <h1 class="mb-3" style="color: #1b5e20;">User Profile</h1>
</div>

<div class="d-flex justify-content-center mt-1">
    <div class="col-md-6 col-sm-12 col-12 p-5 form-container mat-elevation-z5" *ngIf="user$ | async as user">
        <div class="profile-image d-flex justify-content-center">
            <img 
                width="150" 
                height="150" 
                [src]="user.photoURL ?? '../../assets/images/user-placeholder.jpg'">
            <button mat-mini-fab (click)="inputField.click()" color="primary">
                <i class="fa fa-edit"></i>
            </button>
        </div>
        <input #inputField type="file" hidden (change)="uploadImage($event, user)">

        <form class="mt-5" [formGroup]="profileForm" (ngSubmit)="saveProfile()">
            <div class="row mb-4">
                <app-text-input class="col-6" [formControl]="profileForm.controls['firstName']" [label]="'First Name'"></app-text-input>
                <app-text-input class="col-6" [formControl]="profileForm.controls['lastName']" [label]="'Last Name'"></app-text-input>
            </div>
            <div class="row mb-4">
                <app-text-input class="col-6" [formControl]="profileForm.controls['username']" [label]="'Username'"></app-text-input>
                <app-text-input class="col-6" [formControl]="profileForm.controls['phone']" [label]="'Phone Number'"></app-text-input>
            </div>
            <div class="row mb-4">
                <app-text-input [formControl]="profileForm.controls['address']" [label]="'Address'"></app-text-input>
            </div>
            <div class="d-grid mb-3">
                <button mat-raised-button color="primary" type="submit">Save</button>
            </div>
        </form>
    </div>
</div>